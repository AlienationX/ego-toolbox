{% load i18n %}
<div class="todo-item card bg-base-100 border border-base-300">
    <div class="card-body py-4 px-4 md:px-5">
        <div class="flex items-center justify-between gap-3">
            <label class="flex items-center gap-3 min-w-0 flex-1 cursor-pointer" for="todo-{{ todo.id }}">
                <input
                    type="checkbox"
                    id="todo-{{ todo.id }}"
                    class="checkbox checkbox-primary"
                    hx-post="{% url 'toolbox:todo' %}"
                    hx-target="closest .todo-item"
                    hx-swap="outerHTML"
                    hx-vals='{"action": "update", "todo_id": "{{ todo.id }}"}'
                    {% if todo.completed %}checked{% endif %}
                >
                <span class="truncate {% if todo.completed %}line-through text-base-content/50{% endif %}">{{ todo.title }}</span>
            </label>

            <button
                class="btn btn-sm btn-error btn-outline"
                hx-post="{% url 'toolbox:todo' %}"
                hx-target="closest .todo-item"
                hx-swap="outerHTML"
                hx-vals='{"action": "delete", "todo_id": "{{ todo.id }}"}'
                type="button"
            >
                {% trans "删除" %}
            </button>
        </div>
    </div>
</div>
